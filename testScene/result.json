[{"name":"shape"},{"name":"Path 1"},{"name":"Path","value":{"closed":true,"featherInterps":[

],"featherRadii":[

],"featherRelCornerAngles":[

],"featherRelSegLocs":[

],"featherSegLocs":[

],"featherTensions":[

],"featherTypes":[

],"inTangents":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"outTangents":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"vertices":[[0,0],[116.722473144531,-87.8999938964844],[111.300003051758,-287.5],[30.3000030517578,-299.5],[-50.1999969482422,-301.25],[-131.949996948242,-276.25]]},"expression":"const joints = [\r\n    content(\"wrist\").content(\"joint\"),\r\n    content(\"fingers\").content(\"thumb\").content(\"joints\").content(\"proximal\"),\r\n    content(\"fingers\").content(\"fingerOne\").content(\"joints\").content(\"metacarpal\"),\r\n    content(\"fingers\").content(\"fingerTwo\").content(\"joints\").content(\"metacarpal\"),\r\n    content(\"fingers\").content(\"fingerThree\").content(\"joints\").content(\"metacarpal\"),\r\n    content(\"fingers\").content(\"fingerFour\").content(\"joints\").content(\"metacarpal\")\r\n];\r\n\r\nvar points = joints.map(function(j) { return j.transform.position; });\r\n\r\ncreatePath(points, [], [], true);\r\n"},{"name":"joints"},{"name":"Position","value":[-131.95,-276.25],"expression":"fingerName = \"fingerFour\";\r\n\r\ncontent(\"fingers\").content(fingerName).content(\"joints\").transform.anchorPoint + value;"},{"name":"Anchor Point","value":[-131.95,-276.25],"expression":"fingerName = \"fingerFour\";\r\n\r\ncontent(\"fingers\").content(fingerName).content(\"joints\").content(\"metacarpal\").transform.position;"},{"name":"end"},{"name":"Position","value":[-189.020707070707,-431.5],"expression":"var fingerName = \"fingerFour\";\r\nvar jointName = \"distal\"\r\n\r\nconst finger = content(\"fingers\").content(fingerName);\r\nconst handScale = parent.effect(\"size (%)\")(\"Slider\") / 100;\r\n\r\nconst parentJoint = finger.content(\"joints\").content(jointName);\r\nconst graspRotDegrees = parent.effect(\"finger grasp\")(\"Angle\");\r\nconst yRotDegrees = parent.effect(\"Y rotation\")(\"Angle\");\r\nconst spreadCtrl = parent.effect(\"Finger Spread\")(\"Slider\");\r\n\r\nconst yRot = ((yRotDegrees % 360) + 360) % 360;\r\nconst grasp = Math.cos(degreesToRadians(graspRotDegrees));\r\nvar spread = spreadCtrl * Math.cos(degreesToRadians(yRot));\r\n\r\nconst parentPos = parentJoint.transform.position;\r\nconst parentRot = degreesToRadians(parentJoint.transform.rotation);\r\n\r\nvar graspX = value[0] * Math.cos(parentRot) - value[1] * Math.sin(parentRot);\r\nvar graspY = value[0] * Math.sin(parentRot) + value[1] * Math.cos(parentRot);\r\n\r\ngraspX *= Math.cos(degreesToRadians(yRot - 90));\r\nspread /= -6;\r\n\r\nspread = linear(grasp, 0, spread);\r\nvar x = parentPos[0] + (graspX + spread) * handScale;\r\nvar y = parentPos[1] + graspY * handScale;\r\n\r\n[x, y]"},{"name":"Rotation","value":0,"expression":"var fingerName = \"fingerFour\";\r\nvar parentJoint = \"distal\";\r\n\r\nvar joint = content(\"fingers\").content(fingerName).content(\"joints\").content(parentJoint);\r\n\r\njoint.transform.rotation;"},{"name":"Size","value":[48,48],"expression":"var factor = -5\r\n\r\nconst yRot = parent.effect(\"Y rotation\")(\"Angle\");\r\nconst persCtrl = parent.effect(\"Finger persperctive\")(\"Slider\") / 100;\r\nconst handScale = parent.effect(\"size (%)\")(\"Slider\") / 100;\r\n\r\nconst persOcc = Math.sin(degreesToRadians(-yRot)) * value / factor + value;\r\n\r\nconst pers = persOcc * persCtrl;\r\n\r\nconst result = pers * handScale;\r\n\r\nresult"},{"name":"distal"},{"name":"Position","value":[-172.35404040404,-382.8],"expression":"var fingerName = \"fingerFour\";\r\nvar jointName = \"proximal\";\r\n\r\nconst finger = content(\"fingers\").content(fingerName);\r\nconst handScale = parent.effect(\"size (%)\")(\"Slider\") / 100;\r\n\r\nconst parentJoint = finger.content(\"joints\").content(jointName);\r\nconst graspRotDegrees = parent.effect(\"finger grasp\")(\"Angle\");\r\nconst yRotDegrees = parent.effect(\"Y rotation\")(\"Angle\");\r\nconst spreadCtrl = parent.effect(\"Finger Spread\")(\"Slider\");\r\n\r\nconst yRot = ((yRotDegrees % 360) + 360) % 360;\r\nconst grasp = Math.cos(degreesToRadians(graspRotDegrees));\r\nvar spread = spreadCtrl * Math.cos(degreesToRadians(yRot));\r\n\r\nconst parentPos = parentJoint.transform.position;\r\nconst parentRot = degreesToRadians(parentJoint.transform.rotation);\r\n\r\nvar graspX = value[0] * Math.cos(parentRot) - value[1] * Math.sin(parentRot);\r\nvar graspY = value[0] * Math.sin(parentRot) + value[1] * Math.cos(parentRot);\r\n\r\ngraspX *= Math.cos(degreesToRadians(yRot - 90));\r\nspread /= -5.5;\r\n\r\nspread = linear(grasp, 0, spread);\r\nvar x = parentPos[0] + (graspX + spread) * handScale;\r\nvar y = parentPos[1] + graspY * handScale;\r\n\r\n[x, y]"},{"name":"Rotation","value":0,"expression":"var fingerName = \"fingerFour\";\r\nvar parentJoint = \"proximal\";\r\n\r\nvar angle = parent.effect(\"finger grasp\")(\"Angle\");\r\nvar joint = content(\"fingers\").content(fingerName).content(\"joints\").content(parentJoint);\r\n\r\nangle + joint.transform.rotation"},{"name":"Size","value":[55,55],"expression":"var factor = -6\r\n\r\nconst yRot = parent.effect(\"Y rotation\")(\"Angle\");\r\nconst persCtrl = parent.effect(\"Finger persperctive\")(\"Slider\") / 100;\r\nconst handScale = parent.effect(\"size (%)\")(\"Slider\") / 100;\r\n\r\nconst persOcc = Math.sin(degreesToRadians(-yRot)) * value / factor + value;\r\n\r\nconst pers = persOcc * persCtrl;\r\n\r\nconst result = pers * handScale;\r\n\r\nresult"},{"name":"proximal"},{"name":"Position","value":[-154.172222222222,-330],"expression":"var fingerName = \"fingerFour\";\r\nvar jointName = \"metacarpal\"\r\n\r\nconst finger = content(\"fingers\").content(fingerName);\r\nconst handScale = parent.effect(\"size (%)\")(\"Slider\") / 100;\r\n\r\nconst parentJoint = finger.content(\"joints\").content(jointName);\r\nconst graspRotDegrees = parent.effect(\"finger grasp\")(\"Angle\");\r\nconst yRotDegrees = parent.effect(\"Y rotation\")(\"Angle\");\r\nconst spreadCtrl = parent.effect(\"Finger Spread\")(\"Slider\");\r\n\r\nconst yRot = ((yRotDegrees % 360) + 360) % 360;\r\nconst grasp = Math.cos(degreesToRadians(graspRotDegrees));\r\nvar spread = spreadCtrl * Math.cos(degreesToRadians(yRot));\r\n\r\nconst parentPos = parentJoint.transform.position;\r\nconst parentRot = degreesToRadians(parentJoint.transform.rotation);\r\n\r\nvar graspX = value[0] * Math.cos(parentRot) - value[1] * Math.sin(parentRot);\r\nvar graspY = value[0] * Math.sin(parentRot) + value[1] * Math.cos(parentRot);\r\n\r\ngraspX *= Math.cos(degreesToRadians(yRot - 90));\r\nspread /= -4.5;\r\n\r\nspread = linear(grasp, 0, spread);\r\nvar x = parentPos[0] + (graspX + spread) * handScale;\r\nvar y = parentPos[1] + graspY * handScale;\r\n\r\n[x, y]\r\n"},{"name":"Rotation","value":0,"expression":"var fingerName = \"fingerFour\";\r\nvar parentJoint = \"metacarpal\";\r\n\r\nvar angle = parent.effect(\"finger grasp\")(\"Angle\");\r\nvar joint = content(\"fingers\").content(fingerName).content(\"joints\").content(parentJoint);\r\n\r\nangle + joint.transform.rotation"},{"name":"Size","value":[58,58],"expression":"var factor = -7\r\n\r\nconst yRot = parent.effect(\"Y rotation\")(\"Angle\");\r\nconst persCtrl = parent.effect(\"Finger persperctive\")(\"Slider\") / 100;\r\nconst handScale = parent.effect(\"size (%)\")(\"Slider\") / 100;\r\n\r\nconst persOcc = Math.sin(degreesToRadians(-yRot)) * value / factor + value;\r\n\r\nconst pers = persOcc * persCtrl;\r\n\r\nconst result = pers * handScale;\r\n\r\nresult"},{"name":"metacarpal"},{"name":"Position","value":[-131.95,-276.25],"expression":"var parentJoint = content(\"wrist\").content(\"joint\");\r\nvar yRot = -parent.effect(\"Y rotation\")(\"Angle\");\r\nconst handScale = parent.effect(\"size (%)\")(\"Slider\") / 100;\r\n\r\nctrlr = ((yRot % 360) + 360) % 360;\r\nrad = value[0];\r\n\r\nvar x = Math.cos(ctrlr / rad * -2.3) * rad * handScale;\r\nvar y = value[1] * handScale;\r\n\r\n[x,y]"},{"name":"Rotation","value":0,"expression":"parent.effect(\"finger grasp\")(\"Angle\")"},{"name":"Size","value":[65,65],"expression":"var factor = -8\r\n\r\nconst yRot = parent.effect(\"Y rotation\")(\"Angle\");\r\nconst persCtrl = parent.effect(\"Finger persperctive\")(\"Slider\") / 100;\r\nconst handScale = parent.effect(\"size (%)\")(\"Slider\") / 100;\r\n\r\nconst persOcc = Math.sin(degreesToRadians(-yRot)) * value / factor + value;\r\n\r\nconst pers = persOcc * persCtrl;\r\n\r\nconst result = pers * handScale;\r\n\r\nresult"},{"name":"bones"},{"name":"Path 1"},{"name":"Path","value":{"closed":true,"featherInterps":[

],"featherRadii":[

],"featherRelCornerAngles":[

],"featherRelSegLocs":[

],"featherSegLocs":[

],"featherTensions":[

],"featherTypes":[

],"inTangents":[[-2.62226867675781,-6.34262084960938],[-4.45391845703125,-5.22186279296875],[-5.84956359863281,-3.5899658203125],[-6.67262268066406,-1.60664367675781],[-6.842529296875,0.53395080566406],[-6.34262084960938,2.62226867675781],[-5.22186279296875,4.45390319824219],[-3.58995056152344,5.84956359863281],[-1.60662841796875,6.67263793945312],[0.53395080566406,6.842529296875],[0,0],[0,0],[0,0],[0,0],[2.89045715332031,3.85076904296875],[3.93893432617188,2.76910400390625],[4.60185241699219,1.4163818359375],[4.81430053710938,-0.07501220703125],[4.55549621582031,-1.55902099609375],[3.85076904296875,-2.89044189453125],[2.76910400390625,-3.93893432617188],[1.41636657714844,-4.60183715820312],[-0.07499694824219,-4.81430053710938],[0,0],[0,0],[0,0],[0,0],[0,0]],"outTangents":[[2.62226867675781,6.34262084960938],[4.45391845703125,5.22186279296875],[5.84956359863281,3.5899658203125],[6.67262268066406,1.60664367675781],[6.84251403808594,-0.53395080566406],[6.34263610839844,-2.62226867675781],[5.22187805175781,-4.45390319824219],[3.5899658203125,-5.84957885742188],[1.60664367675781,-6.67263793945312],[-0.53395080566406,-6.842529296875],[0,0],[0,0],[0,0],[0,0],[-2.89045715332031,-3.85076904296875],[-3.93893432617188,-2.76910400390625],[-4.60185241699219,-1.4163818359375],[-4.81430053710938,0.07501220703125],[-4.55549621582031,1.55902099609375],[-3.85076904296875,2.89044189453125],[-2.76910400390625,3.93893432617188],[-1.41636657714844,4.60183715820312],[0.07499694824219,4.81430053710938],[0,0],[0,0],[0,0],[0,0],[0,0]],"vertices":[[-161.984329223633,-263.832702636719],[-156.677185058594,-255.159332275391],[-148.949584960938,-248.55046081543],[-139.55793762207,-244.653015136719],[-129.421569824219,-243.848495483398],[-119.53271484375,-246.215667724609],[-110.859344482422,-251.522811889648],[-104.250473022461,-259.250427246094],[-100.35302734375,-268.642059326172],[-99.5485076904297,-278.778442382812],[-101.915679931641,-288.667297363281],[-127.502044677734,-340.094665527344],[-147.210998535156,-391.431396484375],[-167.449005126953,-438.882507324219],[-170.786117553711,-445.187225341797],[-175.908157348633,-450.152099609375],[-182.313751220703,-453.291198730469],[-189.375869750977,-454.297241210938],[-196.403213500977,-453.071716308594],[-202.707916259766,-449.734588623047],[-207.672821044922,-444.612548828125],[-210.811920166016,-438.206939697266],[-211.817947387695,-431.144836425781],[-210.592407226562,-424.117492675781],[-197.497085571289,-374.168609619141],[-180.842391967773,-319.905334472656],[-161.984329223633,-263.832702636719],[-161.984329223633,-263.832702636719]]},"expression":"var fingerName = \"fingerFour\";\r\n\r\nvar smoothness = parent.effect(\"finger smoothness\")(\"Slider\"); // 0-1\r\nvar taper = parent.effect(\"Taper Amount\")(\"Slider\"); // 0–100\r\nvar softness = parent.effect(\"Joint Softness\")(\"Slider\") / 100; // 0–1\r\nvar tipSegments = Math.max(6, Math.round(smoothness * 2));\r\nvar baseSegments = tipSegments;\r\n\r\n// === Joint Positions & Widths ===\r\n\r\nvar joints = [\r\n    content(\"fingers\").content(fingerName).content(\"joints\").content(\"metacarpal\"),\r\n    content(\"fingers\").content(fingerName).content(\"joints\").content(\"proximal\"),\r\n    content(\"fingers\").content(fingerName).content(\"joints\").content(\"distal\"),\r\n    content(\"fingers\").content(fingerName).content(\"joints\").content(\"end\")\r\n];\r\nvar points = joints.map(function(j) { return j.transform.position; });\r\n\r\n// Apply tapering\r\nvar widths = joints.map(function(j, i) {\r\n    var baseWidth = j.content(\"ellipse\").size[0];\r\n    var factor = 1 - (i / (joints.length - 1)) * (taper / 100);\r\n    return baseWidth * factor;\r\n});\r\n\r\n// === Vector Helpers ===\r\n\r\nfunction sub(a, b) { return [a[0] - b[0], a[1] - b[1]]; }\r\nfunction add(a, b) { return [a[0] + b[0], a[1] + b[1]]; }\r\nfunction scale(v, s) { return [v[0] * s, v[1] * s]; }\r\nfunction norm(v) {\r\n    var l = Math.sqrt(v[0] * v[0] + v[1] * v[1]);\r\n    return l === 0 ? [0, 0] : [v[0] / l, v[1] / l];\r\n}\r\nfunction perp(v) { return [-v[1], v[0]]; }\r\nfunction dist(a, b) {\r\n    var dx = b[0] - a[0], dy = b[1] - a[1];\r\n    return Math.sqrt(dx * dx + dy * dy);\r\n}\r\nfunction angleBetween(a, b) {\r\n    var dot = a[0] * b[0] + a[1] * b[1];\r\n    var det = a[0] * b[1] - a[1] * b[0];\r\n    return Math.atan2(det, dot);\r\n}\r\nfunction customLinear(val, inMin, inMax, outMin, outMax) {\r\n    val = Math.max(inMin, Math.min(val, inMax));\r\n    return outMin + (val - inMin) * (outMax - outMin) / (inMax - inMin);\r\n}\r\n\r\n// === Compute Tangents for Centerline ===\r\n\r\nvar inTangents = [], outTangents = [];\r\nvar bends = []; // Store bend values for each intermediate point\r\n\r\nfor (var i = 0; i < points.length; i++) {\r\n    if (i === 0) {\r\n        var dir = norm(sub(points[1], points[0]));\r\n        var len = dist(points[0], points[1]) * softness;\r\n        inTangents.push([0, 0]);\r\n        outTangents.push(scale(dir, len));\r\n        bends.push(0); // No bend at the start\r\n    } else if (i === points.length - 1) {\r\n        var dir = norm(sub(points[i], points[i-1]));\r\n        var len = dist(points[i], points[i-1]) * softness;\r\n        inTangents.push(scale(dir, -len));\r\n        outTangents.push([0, 0]);\r\n        bends.push(0); // No bend at the end\r\n    } else {\r\n        var prev = norm(sub(points[i], points[i - 1]));\r\n        var next = norm(sub(points[i + 1], points[i]));\r\n        var dir = norm(add(prev, next));\r\n\r\n        // Concave/convex weighting via dot product (bend calculation)\r\n        var bend = prev[0] * next[0] + prev[1] * next[1];\r\n        bends.push(bend); // Store the bend value\r\n\r\n        var concaveFactor = customLinear(bend, -1, 1, 0.1, 1);\r\n        var len = Math.min(dist(points[i], points[i - 1]), dist(points[i], points[i + 1])) * softness * concaveFactor;\r\n        inTangents.push(scale(dir, -len));\r\n        outTangents.push(scale(dir, len));\r\n    }\r\n}\r\nbends.unshift(0); // Add a bend value for the first point\r\nbends.push(0);  // Add a bend value for the last point\r\n\r\n// === Offset Curve Function ===\r\n\r\nfunction offsetPath(side, bend) {\r\n    var newPoints = [], newInTangents = [], newOutTangents = [];\r\n\r\n    for (var i = 0; i < points.length; i++) {\r\n        var p = points[i];\r\n        var width = widths[i] / 2;\r\n\r\n        var dir;\r\n        if (i === 0) {\r\n            dir = norm(sub(points[1], points[0]));\r\n        } else if (i === points.length - 1) {\r\n            dir = norm(sub(points[i], points[i - 1]));\r\n        } else {\r\n            var prev = norm(sub(p, points[i - 1]));\r\n            var next = norm(sub(points[i + 1], p));\r\n            dir = norm(add(prev, next));\r\n        }\r\n\r\n        var perpDir = side === \"left\" ? perp(dir) : scale(perp(dir), -1);\r\n        var offset = scale(perpDir, width);\r\n\r\n        newPoints.push(add(p, offset));\r\n\r\n        // Force Near-Zero Tangents on Inside of Bent Knuckles\r\n        if (i > 0 && i < points.length - 1) {\r\n            var tangentLength = Math.min(dist(points[i], points[i - 1]), dist(points[i], points[i + 1])) * softness;\r\n            var smoothnessFactor = customLinear(softness, 0, 1, 1, 1.5);\r\n\r\n            if ((side === \"left\" && bend < -0.3) || (side === \"right\" && bend > 0.3)) {\r\n                // Force near-zero tangents on the inside\r\n                newInTangents.push([0, 0]);\r\n                newOutTangents.push([0, 0]);\r\n            } else { // Outside or less bent\r\n                newInTangents.push(scale(dir, -tangentLength * smoothnessFactor));\r\n                newOutTangents.push(scale(dir, tangentLength * smoothnessFactor));\r\n            }\r\n        } else {\r\n            newInTangents.push(inTangents[i]);\r\n            newOutTangents.push(outTangents[i]);\r\n        }\r\n    }\r\n\r\n    return {\r\n        pts: newPoints,\r\n        inTangents: newInTangents,\r\n        outTangents: newOutTangents\r\n    };\r\n}\r\n\r\n// === Left and Right Sides ===\r\nvar left = offsetPath(\"left\", bends);\r\nvar right = offsetPath(\"right\", bends);\r\n\r\n// === Tip Arc ===\r\n\r\nvar tipPoints = [], tipInTangents = [], tipOutTangents = [];\r\n\r\nvar tipCenter = points[points.length - 1];\r\nvar tipRadius = widths[widths.length - 1] / 2;\r\nvar tipDir = norm(sub(points[points.length - 1], points[points.length - 2]));\r\nvar tipPerp = perp(tipDir);\r\nvar arcLen = 4 / 3 * Math.tan(Math.PI / (2 * tipSegments));\r\n\r\nfor (var i = 0; i <= tipSegments; i++) {\r\n    var angle = Math.PI * i / tipSegments;\r\n    var x = Math.cos(angle) * tipRadius;\r\n    var y = Math.sin(angle) * tipRadius;\r\n\r\n    var pt = [\r\n        tipCenter[0] + x * tipPerp[0] + y * tipDir[0],\r\n        tipCenter[1] + x * tipPerp[1] + y * tipDir[1]\r\n    ];\r\n    tipPoints.push(pt);\r\n\r\n    var tanDir = [-Math.sin(angle), Math.cos(angle)];\r\n    var tangent = scale([\r\n        tanDir[0] * tipPerp[0] + tanDir[1] * tipDir[0],\r\n        tanDir[0] * tipPerp[1] + tanDir[1] * tipDir[1]\r\n    ], tipRadius * arcLen);\r\n\r\n    tipInTangents.push(scale(tangent, -1));\r\n    tipOutTangents.push(tangent);\r\n}\r\n\r\n// === Base Arc ===\r\n\r\nvar basePoints = [], baseInTangents = [], baseOutTangents = [];\r\n\r\nvar baseCenter = points[0];\r\nvar baseRadius = widths[0] / 2;\r\nvar baseDir = norm(sub(points[1], points[0]));\r\nvar basePerp = perp(baseDir);\r\nvar baseArcLen = 4 / 3 * Math.tan(Math.PI / (2 * baseSegments));\r\n\r\nfor (var i = 0; i <= baseSegments; i++) {\r\n    var angle = Math.PI + Math.PI * i / baseSegments;\r\n    var x = Math.cos(angle) * baseRadius;\r\n    var y = Math.sin(angle) * baseRadius;\r\n\r\n    var pt = [\r\n        baseCenter[0] + x * basePerp[0] + y * baseDir[0],\r\n        baseCenter[1] + x * basePerp[1] + y * baseDir[1]\r\n    ];\r\n    basePoints.push(pt);\r\n\r\n    var tanDir = [-Math.sin(angle), Math.cos(angle)];\r\n    var tangent = scale([\r\n        tanDir[0] * basePerp[0] + tanDir[1] * baseDir[0],\r\n        tanDir[0] * basePerp[1] + tanDir[1] * baseDir[1]\r\n    ], baseRadius * baseArcLen);\r\n\r\n    baseInTangents.push(scale(tangent, -1));\r\n    baseOutTangents.push(tangent);\r\n}\r\n\r\n// === Combine All Points ===\r\n\r\nvar finalPts = basePoints\r\n    .slice(0, -1)\r\n    .concat(left.pts)\r\n    .concat(tipPoints.slice(1, -1))\r\n    .concat(right.pts.reverse());\r\n\r\nvar finalInTangents = baseInTangents\r\n    .slice(0, -1)\r\n    .concat(left.inTangents)\r\n    .concat(tipInTangents.slice(1, -1))\r\n    .concat(right.outTangents.reverse());\r\n\r\nvar finalOutTangents = baseOutTangents\r\n    .slice(0, -1)\r\n    .concat(left.outTangents)\r\n    .concat(tipOutTangents.slice(1, -1))\r\n    .concat(right.inTangents.reverse());\r\n\r\n// === Close Path ===\r\n\r\nfinalPts.push(finalPts[0]);\r\nfinalInTangents.push([0, 0]);\r\nfinalOutTangents.push([0, 0]);\r\n\r\n// === Create Path ===\r\n\r\ncreatePath(finalPts, finalInTangents, finalOutTangents, true);"},{"name":"joints"},{"name":"Position","value":[-50.2,-301.25],"expression":"fingerName = \"fingerThree\";\r\n\r\ncontent(\"fingers\").content(fingerName).content(\"joints\").transform.anchorPoint + value;"},{"name":"Anchor Point","value":[-50.2,-301.25],"expression":"fingerName = \"fingerThree\";\r\n\r\ncontent(\"fingers\").content(fingerName).content(\"joints\").content(\"metacarpal\").transform.position;"},{"name":"end"},{"name":"Position","value":[-77.7,-517.25],"expression":"var fingerName = \"fingerThree\";\r\nvar jointName = \"distal\"\r\n\r\nconst finger = content(\"fingers\").content(fingerName);\r\nconst handScale = parent.effect(\"size (%)\")(\"Slider\") / 100;\r\n\r\nconst parentJoint = finger.content(\"joints\").content(jointName);\r\nconst graspRotDegrees = parent.effect(\"finger grasp\")(\"Angle\");\r\nconst yRotDegrees = parent.effect(\"Y rotation\")(\"Angle\");\r\nconst spreadCtrl = parent.effect(\"Finger Spread\")(\"Slider\");\r\n\r\nconst yRot = ((yRotDegrees % 360) + 360) % 360;\r\nconst grasp = Math.cos(degreesToRadians(graspRotDegrees));\r\nvar spread = spreadCtrl * Math.cos(degreesToRadians(yRot));\r\n\r\nconst parentPos = parentJoint.transform.position;\r\nconst parentRot = degreesToRadians(parentJoint.transform.rotation);\r\n\r\nvar graspX = value[0] * Math.cos(parentRot) - value[1] * Math.sin(parentRot);\r\nvar graspY = value[0] * Math.sin(parentRot) + value[1] * Math.cos(parentRot);\r\n\r\ngraspX *= Math.cos(degreesToRadians(yRot - 90));\r\nspread /= -20;\r\n\r\nspread = linear(grasp, 0, spread);\r\nvar x = parentPos[0] + (graspX + spread) * handScale;\r\nvar y = parentPos[1] + graspY * handScale;\r\n\r\n[x, y]"},{"name":"Rotation","value":0,"expression":"var fingerName = \"fingerThree\";\r\nvar parentJoint = \"distal\";\r\n\r\nvar joint = content(\"fingers\").content(fingerName).content(\"joints\").content(parentJoint);\r\n\r\njoint.transform.rotation;"},{"name":"Size","value":[55,55],"expression":"var factor = -5\r\n\r\nconst yRot = parent.effect(\"Y rotation\")(\"Angle\");\r\nconst persCtrl = parent.effect(\"Finger persperctive\")(\"Slider\") / 100;\r\nconst handScale = parent.effect(\"size (%)\")(\"Slider\") / 100;\r\n\r\nconst persOcc = Math.sin(degreesToRadians(-yRot)) * value / factor + value;\r\n\r\nconst pers = persOcc * persCtrl;\r\n\r\nconst result = pers * handScale;\r\n\r\nresult"},{"name":"distal"},{"name":"Position","value":[-72.7,-456.3],"expression":"var fingerName = \"fingerThree\";\r\nvar jointName = \"proximal\";\r\n\r\nconst finger = content(\"fingers\").content(fingerName);\r\nconst handScale = parent.effect(\"size (%)\")(\"Slider\") / 100;\r\n\r\nconst parentJoint = finger.content(\"joints\").content(jointName);\r\nconst graspRotDegrees = parent.effect(\"finger grasp\")(\"Angle\");\r\nconst yRotDegrees = parent.effect(\"Y rotation\")(\"Angle\");\r\nconst spreadCtrl = parent.effect(\"Finger Spread\")(\"Slider\");\r\n\r\nconst yRot = ((yRotDegrees % 360) + 360) % 360;\r\nconst grasp = Math.cos(degreesToRadians(graspRotDegrees));\r\nvar spread = spreadCtrl * Math.cos(degreesToRadians(yRot));\r\n\r\nconst parentPos = parentJoint.transform.position;\r\nconst parentRot = degreesToRadians(parentJoint.transform.rotation);\r\n\r\nvar graspX = value[0] * Math.cos(parentRot) - value[1] * Math.sin(parentRot);\r\nvar graspY = value[0] * Math.sin(parentRot) + value[1] * Math.cos(parentRot);\r\n\r\ngraspX *= Math.cos(degreesToRadians(yRot - 90));\r\nspread /= -10;\r\n\r\nspread = linear(grasp, 0, spread);\r\nvar x = parentPos[0] + (graspX + spread) * handScale;\r\nvar y = parentPos[1] + graspY * handScale;\r\n\r\n[x, y]"},{"name":"Rotation","value":0,"expression":"var fingerName = \"fingerThree\";\r\nvar parentJoint = \"proximal\";\r\n\r\nvar angle = parent.effect(\"finger grasp\")(\"Angle\");\r\nvar joint = content(\"fingers\").content(fingerName).content(\"joints\").content(parentJoint);\r\n\r\nangle + joint.transform.rotation"},{"name":"Size","value":[60,60],"expression":"var factor = -6\r\n\r\nconst yRot = parent.effect(\"Y rotation\")(\"Angle\");\r\nconst persCtrl = parent.effect(\"Finger persperctive\")(\"Slider\") / 100;\r\nconst handScale = parent.effect(\"size (%)\")(\"Slider\") / 100;\r\n\r\nconst persOcc = Math.sin(degreesToRadians(-yRot)) * value / factor + value;\r\n\r\nconst pers = persOcc * persCtrl;\r\n\r\nconst result = pers * handScale;\r\n\r\nresult"},{"name":"proximal"},{"name":"Position","value":[-62.7,-382],"expression":"var fingerName = \"fingerThree\";\r\nvar jointName = \"metacarpal\"\r\n\r\nconst finger = content(\"fingers\").content(fingerName);\r\nconst handScale = parent.effect(\"size (%)\")(\"Slider\") / 100;\r\n\r\nconst parentJoint = finger.content(\"joints\").content(jointName);\r\nconst graspRotDegrees = parent.effect(\"finger grasp\")(\"Angle\");\r\nconst yRotDegrees = parent.effect(\"Y rotation\")(\"Angle\");\r\nconst spreadCtrl = parent.effect(\"Finger Spread\")(\"Slider\");\r\n\r\nconst yRot = ((yRotDegrees % 360) + 360) % 360;\r\nconst grasp = Math.cos(degreesToRadians(graspRotDegrees));\r\nvar spread = spreadCtrl * Math.cos(degreesToRadians(yRot));\r\n\r\nconst parentPos = parentJoint.transform.position;\r\nconst parentRot = degreesToRadians(parentJoint.transform.rotation);\r\n\r\nvar graspX = value[0] * Math.cos(parentRot) - value[1] * Math.sin(parentRot);\r\nvar graspY = value[0] * Math.sin(parentRot) + value[1] * Math.cos(parentRot);\r\n\r\ngraspX *= Math.cos(degreesToRadians(yRot - 90));\r\nspread /= -8;\r\n\r\nspread = linear(grasp, 0, spread);\r\nvar x = parentPos[0] + (graspX + spread) * handScale;\r\nvar y = parentPos[1] + graspY * handScale;\r\n\r\n[x, y]\r\n"},{"name":"Rotation","value":0,"expression":"var fingerName = \"fingerThree\";\r\nvar parentJoint = \"metacarpal\";\r\n\r\nvar angle = parent.effect(\"finger grasp\")(\"Angle\");\r\nvar joint = content(\"fingers\").content(fingerName).content(\"joints\").content(parentJoint);\r\n\r\nangle + joint.transform.rotation"},{"name":"metacarpal"},{"name":"Position","value":[-50.2,-301.25],"expression":"var parentJoint = content(\"wrist\").content(\"joint\");\r\nvar yRot = -parent.effect(\"Y rotation\")(\"Angle\");\r\nconst handScale = parent.effect(\"size (%)\")(\"Slider\") / 100;\r\n\r\nctrlr = ((yRot % 360) + 360) % 360;\r\nrad = value[0];\r\n\r\nvar x = Math.cos(ctrlr / rad * -0.87) * rad * handScale;\r\nvar y = value[1] * handScale;\r\n\r\n[x,y]"},{"name":"Rotation","value":0,"expression":"parent.effect(\"finger grasp\")(\"Angle\")"},{"name":"Size","value":[70,70],"expression":"var factor = -8\r\n\r\nconst yRot = parent.effect(\"Y rotation\")(\"Angle\");\r\nconst persCtrl = parent.effect(\"Finger persperctive\")(\"Slider\") / 100;\r\nconst handScale = parent.effect(\"size (%)\")(\"Slider\") / 100;\r\n\r\nconst persOcc = Math.sin(degreesToRadians(-yRot)) * value / factor + value;\r\n\r\nconst pers = persOcc * persCtrl;\r\n\r\nconst result = pers * handScale;\r\n\r\nresult"},{"name":"bones"},{"name":"Path 1"},{"name":"Path","value":{"closed":true,"featherInterps":[

],"featherRadii":[

],"featherRelCornerAngles":[

],"featherRelSegLocs":[

],"featherSegLocs":[

],"featherTensions":[

],"featherTypes":[

],"inTangents":[[-1.13069152832031,-7.30429077148438],[-3.33248901367188,-6.59738159179688],[-5.20809936523438,-5.24468994140625],[-6.57389831542969,-3.37860107421875],[-7.29618835449219,-1.18179321289062],[-7.30427551269531,1.13070678710938],[-6.59736633300781,3.33248901367188],[-5.24467468261719,5.20809936523438],[-3.37860107421875,6.57388305664062],[-1.18179321289062,7.29617309570312],[0,0],[0,0],[0,0],[0,0],[2.12815856933594,5.090087890625],[3.59690856933594,4.18328857421875],[4.71359252929688,2.8670654296875],[5.36885070800781,1.2701416015625],[5.49859619140625,-0.4510498046875],[5.090087890625,-2.128173828125],[4.18331909179688,-3.596923828125],[2.8670654296875,-4.71356201171875],[1.27015686035156,-5.36883544921875],[0,0],[0,0],[0,0],[0,0],[0,0]],"outTangents":[[1.13069152832031,7.3043212890625],[3.33250427246094,6.59738159179688],[5.20809936523438,5.24468994140625],[6.57388305664062,3.37860107421875],[7.29618835449219,1.18179321289062],[7.30426025390625,-1.13070678710938],[6.59738159179688,-3.33248901367188],[5.24468994140625,-5.20809936523438],[3.37858581542969,-6.57388305664062],[1.18179321289062,-7.29617309570312],[0,0],[0,0],[0,0],[0,0],[-2.12814331054688,-5.090087890625],[-3.596923828125,-4.18328857421875],[-4.71357727050781,-2.8670654296875],[-5.36886596679688,-1.2701416015625],[-5.49858093261719,0.4510498046875],[-5.09007263183594,2.128173828125],[-4.18331909179688,3.596923828125],[-2.8670654296875,4.71356201171875],[-1.27015686035156,5.36883544921875],[0,0],[0,0],[0,0],[0,0],[0,0]],"vertices":[[-84.7880401611328,-295.895812988281],[-81.4406585693359,-285.469573974609],[-75.0352020263672,-276.588043212891],[-66.1987152099609,-270.120574951172],[-55.7961578369141,-266.700286865234],[-44.8458099365234,-266.661956787109],[-34.4195861816406,-270.009338378906],[-25.5380401611328,-276.414794921875],[-19.0705718994141,-285.251281738281],[-15.6502838134766,-295.653839111328],[-15.6119689941406,-306.604187011719],[-31.0709838867188,-386.576080322266],[-43.8683929443359,-459.420684814453],[-51.6624603271484,-519.385986328125],[-53.5968933105469,-527.327453613281],[-57.8906860351562,-534.282531738281],[-64.1235656738281,-539.5703125],[-71.6853942871094,-542.673217773438],[-79.8359832763672,-543.287536621094],[-87.7774810791016,-541.353088378906],[-94.7325286865234,-537.059326171875],[-100.020309448242,-530.826416015625],[-103.123229980469,-523.264587402344],[-103.737533569336,-515.114013671875],[-101.531600952148,-453.179321289062],[-94.3290252685547,-377.423919677734],[-84.7880401611328,-295.895812988281],[-84.7880401611328,-295.895812988281]]},"expression":"var fingerName = \"fingerThree\";\r\n\r\nvar smoothness = parent.effect(\"finger smoothness\")(\"Slider\"); // 0-1\r\nvar taper = parent.effect(\"Taper Amount\")(\"Slider\"); // 0–100\r\nvar softness = parent.effect(\"Joint Softness\")(\"Slider\") / 100; // 0–1\r\nvar tipSegments = Math.max(6, Math.round(smoothness * 2));\r\nvar baseSegments = tipSegments;\r\n\r\n// === Joint Positions & Widths ===\r\n\r\nvar joints = [\r\n    content(\"fingers\").content(fingerName).content(\"joints\").content(\"metacarpal\"),\r\n    content(\"fingers\").content(fingerName).content(\"joints\").content(\"proximal\"),\r\n    content(\"fingers\").content(fingerName).content(\"joints\").content(\"distal\"),\r\n    content(\"fingers\").content(fingerName).content(\"joints\").content(\"end\")\r\n];\r\nvar points = joints.map(function(j) { return j.transform.position; });\r\n\r\n// Apply tapering\r\nvar widths = joints.map(function(j, i) {\r\n    var baseWidth = j.content(\"ellipse\").size[0];\r\n    var factor = 1 - (i / (joints.length - 1)) * (taper / 100);\r\n    return baseWidth * factor;\r\n});\r\n\r\n// === Vector Helpers ===\r\n\r\nfunction sub(a, b) { return [a[0] - b[0], a[1] - b[1]]; }\r\nfunction add(a, b) { return [a[0] + b[0], a[1] + b[1]]; }\r\nfunction scale(v, s) { return [v[0] * s, v[1] * s]; }\r\nfunction norm(v) {\r\n    var l = Math.sqrt(v[0] * v[0] + v[1] * v[1]);\r\n    return l === 0 ? [0, 0] : [v[0] / l, v[1] / l];\r\n}\r\nfunction perp(v) { return [-v[1], v[0]]; }\r\nfunction dist(a, b) {\r\n    var dx = b[0] - a[0], dy = b[1] - a[1];\r\n    return Math.sqrt(dx * dx + dy * dy);\r\n}\r\nfunction angleBetween(a, b) {\r\n    var dot = a[0] * b[0] + a[1] * b[1];\r\n    var det = a[0] * b[1] - a[1] * b[0];\r\n    return Math.atan2(det, dot);\r\n}\r\nfunction customLinear(val, inMin, inMax, outMin, outMax) {\r\n    val = Math.max(inMin, Math.min(val, inMax));\r\n    return outMin + (val - inMin) * (outMax - outMin) / (inMax - inMin);\r\n}\r\n\r\n// === Compute Tangents for Centerline ===\r\n\r\nvar inTangents = [], outTangents = [];\r\nvar bends = []; // Store bend values for each intermediate point\r\n\r\nfor (var i = 0; i < points.length; i++) {\r\n    if (i === 0) {\r\n        var dir = norm(sub(points[1], points[0]));\r\n        var len = dist(points[0], points[1]) * softness;\r\n        inTangents.push([0, 0]);\r\n        outTangents.push(scale(dir, len));\r\n        bends.push(0); // No bend at the start\r\n    } else if (i === points.length - 1) {\r\n        var dir = norm(sub(points[i], points[i-1]));\r\n        var len = dist(points[i], points[i-1]) * softness;\r\n        inTangents.push(scale(dir, -len));\r\n        outTangents.push([0, 0]);\r\n        bends.push(0); // No bend at the end\r\n    } else {\r\n        var prev = norm(sub(points[i], points[i - 1]));\r\n        var next = norm(sub(points[i + 1], points[i]));\r\n        var dir = norm(add(prev, next));\r\n\r\n        // Concave/convex weighting via dot product (bend calculation)\r\n        var bend = prev[0] * next[0] + prev[1] * next[1];\r\n        bends.push(bend); // Store the bend value\r\n\r\n        var concaveFactor = customLinear(bend, -1, 1, 0.1, 1);\r\n        var len = Math.min(dist(points[i], points[i - 1]), dist(points[i], points[i + 1])) * softness * concaveFactor;\r\n        inTangents.push(scale(dir, -len));\r\n        outTangents.push(scale(dir, len));\r\n    }\r\n}\r\nbends.unshift(0); // Add a bend value for the first point\r\nbends.push(0);  // Add a bend value for the last point\r\n\r\n// === Offset Curve Function ===\r\n\r\nfunction offsetPath(side, bend) {\r\n    var newPoints = [], newInTangents = [], newOutTangents = [];\r\n\r\n    for (var i = 0; i < points.length; i++) {\r\n        var p = points[i];\r\n        var width = widths[i] / 2;\r\n\r\n        var dir;\r\n        if (i === 0) {\r\n            dir = norm(sub(points[1], points[0]));\r\n        } else if (i === points.length - 1) {\r\n            dir = norm(sub(points[i], points[i - 1]));\r\n        } else {\r\n            var prev = norm(sub(p, points[i - 1]));\r\n            var next = norm(sub(points[i + 1], p));\r\n            dir = norm(add(prev, next));\r\n        }\r\n\r\n        var perpDir = side === \"left\" ? perp(dir) : scale(perp(dir), -1);\r\n        var offset = scale(perpDir, width);\r\n\r\n        newPoints.push(add(p, offset));\r\n\r\n        // Force Near-Zero Tangents on Inside of Bent Knuckles\r\n        if (i > 0 && i < points.length - 1) {\r\n            var tangentLength = Math.min(dist(points[i], points[i - 1]), dist(points[i], points[i + 1])) * softness;\r\n            var smoothnessFactor = customLinear(softness, 0, 1, 1, 1.5);\r\n\r\n            if ((side === \"left\" && bend < -0.3) || (side === \"right\" && bend > 0.3)) {\r\n                // Force near-zero tangents on the inside\r\n                newInTangents.push([0, 0]);\r\n                newOutTangents.push([0, 0]);\r\n            } else { // Outside or less bent\r\n                newInTangents.push(scale(dir, -tangentLength * smoothnessFactor));\r\n                newOutTangents.push(scale(dir, tangentLength * smoothnessFactor));\r\n            }\r\n        } else {\r\n            newInTangents.push(inTangents[i]);\r\n            newOutTangents.push(outTangents[i]);\r\n        }\r\n    }\r\n\r\n    return {\r\n        pts: newPoints,\r\n        inTangents: newInTangents,\r\n        outTangents: newOutTangents\r\n    };\r\n}\r\n\r\n// === Left and Right Sides ===\r\nvar left = offsetPath(\"left\", bends);\r\nvar right = offsetPath(\"right\", bends);\r\n\r\n// === Tip Arc ===\r\n\r\nvar tipPoints = [], tipInTangents = [], tipOutTangents = [];\r\n\r\nvar tipCenter = points[points.length - 1];\r\nvar tipRadius = widths[widths.length - 1] / 2;\r\nvar tipDir = norm(sub(points[points.length - 1], points[points.length - 2]));\r\nvar tipPerp = perp(tipDir);\r\nvar arcLen = 4 / 3 * Math.tan(Math.PI / (2 * tipSegments));\r\n\r\nfor (var i = 0; i <= tipSegments; i++) {\r\n    var angle = Math.PI * i / tipSegments;\r\n    var x = Math.cos(angle) * tipRadius;\r\n    var y = Math.sin(angle) * tipRadius;\r\n\r\n    var pt = [\r\n        tipCenter[0] + x * tipPerp[0] + y * tipDir[0],\r\n        tipCenter[1] + x * tipPerp[1] + y * tipDir[1]\r\n    ];\r\n    tipPoints.push(pt);\r\n\r\n    var tanDir = [-Math.sin(angle), Math.cos(angle)];\r\n    var tangent = scale([\r\n        tanDir[0] * tipPerp[0] + tanDir[1] * tipDir[0],\r\n        tanDir[0] * tipPerp[1] + tanDir[1] * tipDir[1]\r\n    ], tipRadius * arcLen);\r\n\r\n    tipInTangents.push(scale(tangent, -1));\r\n    tipOutTangents.push(tangent);\r\n}\r\n\r\n// === Base Arc ===\r\n\r\nvar basePoints = [], baseInTangents = [], baseOutTangents = [];\r\n\r\nvar baseCenter = points[0];\r\nvar baseRadius = widths[0] / 2;\r\nvar baseDir = norm(sub(points[1], points[0]));\r\nvar basePerp = perp(baseDir);\r\nvar baseArcLen = 4 / 3 * Math.tan(Math.PI / (2 * baseSegments));\r\n\r\nfor (var i = 0; i <= baseSegments; i++) {\r\n    var angle = Math.PI + Math.PI * i / baseSegments;\r\n    var x = Math.cos(angle) * baseRadius;\r\n    var y = Math.sin(angle) * baseRadius;\r\n\r\n    var pt = [\r\n        baseCenter[0] + x * basePerp[0] + y * baseDir[0],\r\n        baseCenter[1] + x * basePerp[1] + y * baseDir[1]\r\n    ];\r\n    basePoints.push(pt);\r\n\r\n    var tanDir = [-Math.sin(angle), Math.cos(angle)];\r\n    var tangent = scale([\r\n        tanDir[0] * basePerp[0] + tanDir[1] * baseDir[0],\r\n        tanDir[0] * basePerp[1] + tanDir[1] * baseDir[1]\r\n    ], baseRadius * baseArcLen);\r\n\r\n    baseInTangents.push(scale(tangent, -1));\r\n    baseOutTangents.push(tangent);\r\n}\r\n\r\n// === Combine All Points ===\r\n\r\nvar finalPts = basePoints\r\n    .slice(0, -1)\r\n    .concat(left.pts)\r\n    .concat(tipPoints.slice(1, -1))\r\n    .concat(right.pts.reverse());\r\n\r\nvar finalInTangents = baseInTangents\r\n    .slice(0, -1)\r\n    .concat(left.inTangents)\r\n    .concat(tipInTangents.slice(1, -1))\r\n    .concat(right.outTangents.reverse());\r\n\r\nvar finalOutTangents = baseOutTangents\r\n    .slice(0, -1)\r\n    .concat(left.outTangents)\r\n    .concat(tipOutTangents.slice(1, -1))\r\n    .concat(right.inTangents.reverse());\r\n\r\n// === Close Path ===\r\n\r\nfinalPts.push(finalPts[0]);\r\nfinalInTangents.push([0, 0]);\r\nfinalOutTangents.push([0, 0]);\r\n\r\n// === Create Path ===\r\n\r\ncreatePath(finalPts, finalInTangents, finalOutTangents, true);"},{"name":"joints"},{"name":"Position","value":[30.3,-299.5],"expression":"fingerName = \"fingerTwo\";\r\n\r\ncontent(\"fingers\").content(fingerName).content(\"joints\").transform.anchorPoint + value;"},{"name":"Anchor Point","value":[30.3,-299.5],"expression":"fingerName = \"fingerTwo\";\r\n\r\ncontent(\"fingers\").content(fingerName).content(\"joints\").content(\"metacarpal\").transform.position;"},{"name":"end"},{"name":"Position","value":[34.3,-560.75],"expression":"var fingerName = \"fingerTwo\";\r\nvar jointName = \"distal\"\r\n\r\nconst finger = content(\"fingers\").content(fingerName);\r\nconst handScale = parent.effect(\"size (%)\")(\"Slider\") / 100;\r\n\r\nconst parentJoint = finger.content(\"joints\").content(jointName);\r\nconst grasp = parent.effect(\"finger grasp\")(\"Angle\");\r\nconst yRotDegrees = parent.effect(\"Y rotation\")(\"Angle\");\r\nconst spreadCtrl = parent.effect(\"Finger Spread\")(\"Slider\");\r\n\r\nconst yRot = ((yRotDegrees % 360) + 360) % 360;\r\nvar spread = spreadCtrl * Math.cos(degreesToRadians(yRot));\r\n\r\nconst parentPos = parentJoint.transform.position;\r\nconst parentRot = degreesToRadians(parentJoint.transform.rotation);\r\n\r\nvar graspX = value[0] * Math.cos(parentRot) - value[1] * Math.sin(parentRot);\r\nvar graspY = value[0] * Math.sin(parentRot) + value[1] * Math.cos(parentRot);\r\n\r\ngraspX *= Math.cos(degreesToRadians(yRot - 90));\r\nspread /= 30;\r\n\r\nspread = linear(grasp, 0, spread);\r\nvar x = parentPos[0] + (graspX + spread) * handScale;\r\nvar y = parentPos[1] + graspY * handScale;\r\n\r\n[x, y]"},{"name":"Rotation","value":0,"expression":"var fingerName = \"fingerTwo\";\r\nvar parentJoint = \"distal\";\r\n\r\nvar joint = content(\"fingers\").content(fingerName).content(\"joints\").content(parentJoint);\r\n\r\njoint.transform.rotation;"},{"name":"Size","value":[55,55],"expression":"var factor = 4\r\n\r\nconst yRot = parent.effect(\"Y rotation\")(\"Angle\");\r\nconst persCtrl = parent.effect(\"Finger persperctive\")(\"Slider\") / 100;\r\nconst handScale = parent.effect(\"size (%)\")(\"Slider\") / 100;\r\n\r\nconst persOcc = Math.sin(degreesToRadians(-yRot)) * value / factor + value;\r\n\r\nconst pers = persOcc * persCtrl;\r\n\r\nconst result = pers * handScale;\r\n\r\nresult"},{"name":"distal"},{"name":"Position","value":[34.3,-487.55],"expression":"var fingerName = \"fingerTwo\";\r\nvar jointName = \"proximal\";\r\n\r\nconst finger = content(\"fingers\").content(fingerName);\r\nconst handScale = parent.effect(\"size (%)\")(\"Slider\") / 100;\r\n\r\nconst parentJoint = finger.content(\"joints\").content(jointName);\r\nconst graspRotDegrees = parent.effect(\"finger grasp\")(\"Angle\");\r\nconst yRotDegrees = parent.effect(\"Y rotation\")(\"Angle\");\r\nconst spreadCtrl = parent.effect(\"Finger Spread\")(\"Slider\");\r\n\r\nconst yRot = ((yRotDegrees % 360) + 360) % 360;\r\nconst grasp = Math.cos(degreesToRadians(graspRotDegrees));\r\nvar spread = spreadCtrl * Math.cos(degreesToRadians(yRot));\r\n\r\nconst parentPos = parentJoint.transform.position;\r\nconst parentRot = degreesToRadians(parentJoint.transform.rotation);\r\n\r\nvar graspX = value[0] * Math.cos(parentRot) - value[1] * Math.sin(parentRot);\r\nvar graspY = value[0] * Math.sin(parentRot) + value[1] * Math.cos(parentRot);\r\n\r\ngraspX *= Math.cos(degreesToRadians(yRot - 90));\r\nspread /= 50;\r\n\r\nspread = linear(grasp, 0, spread);\r\nvar x = parentPos[0] + (graspX + spread) * handScale;\r\nvar y = parentPos[1] + graspY * handScale;\r\n\r\n[x, y]"},{"name":"Rotation","value":0,"expression":"var fingerName = \"fingerTwo\";\r\nvar parentJoint = \"proximal\";\r\n\r\nvar angle = parent.effect(\"finger grasp\")(\"Angle\");\r\nvar joint = content(\"fingers\").content(fingerName).content(\"joints\").content(parentJoint);\r\n\r\nangle + joint.transform.rotation"},{"name":"Size","value":[60,60],"expression":"var factor = 5\r\n\r\nconst yRot = parent.effect(\"Y rotation\")(\"Angle\");\r\nconst persCtrl = parent.effect(\"Finger persperctive\")(\"Slider\") / 100;\r\nconst handScale = parent.effect(\"size (%)\")(\"Slider\") / 100;\r\n\r\nconst persOcc = Math.sin(degreesToRadians(-yRot)) * value / factor + value;\r\n\r\nconst pers = persOcc * persCtrl;\r\n\r\nconst result = pers * handScale;\r\n\r\nresult"},{"name":"proximal"},{"name":"Position","value":[32.3,-399.75],"expression":"var fingerName = \"fingerTwo\";\r\nvar jointName = \"metacarpal\"\r\n\r\nconst finger = content(\"fingers\").content(fingerName);\r\nconst handScale = parent.effect(\"size (%)\")(\"Slider\") / 100;\r\n\r\nconst parentJoint = finger.content(\"joints\").content(jointName);\r\nconst graspRotDegrees = parent.effect(\"finger grasp\")(\"Angle\");\r\nconst yRotDegrees = parent.effect(\"Y rotation\")(\"Angle\");\r\nconst spreadCtrl = parent.effect(\"Finger Spread\")(\"Slider\");\r\n\r\nconst yRot = ((yRotDegrees % 360) + 360) % 360;\r\nconst grasp = Math.cos(degreesToRadians(graspRotDegrees));\r\nvar spread = spreadCtrl * Math.cos(degreesToRadians(yRot));\r\n\r\nconst parentPos = parentJoint.transform.position;\r\nconst parentRot = degreesToRadians(parentJoint.transform.rotation);\r\n\r\nvar graspX = value[0] * Math.cos(parentRot) - value[1] * Math.sin(parentRot);\r\nvar graspY = value[0] * Math.sin(parentRot) + value[1] * Math.cos(parentRot);\r\n\r\ngraspX *= Math.cos(degreesToRadians(yRot - 90));\r\nspread /= 50;\r\n\r\nspread = linear(grasp, 0, spread);\r\nvar x = parentPos[0] + (graspX + spread) * handScale;\r\nvar y = parentPos[1] + graspY * handScale;\r\n\r\n[x, y]\r\n"},{"name":"Rotation","value":0,"expression":"var fingerName = \"fingerTwo\";\r\nvar parentJoint = \"metacarpal\";\r\n\r\nvar angle = parent.effect(\"finger grasp\")(\"Angle\");\r\nvar joint = content(\"fingers\").content(fingerName).content(\"joints\").content(parentJoint);\r\n\r\nangle + joint.transform.rotation"},{"name":"Size","value":[65,65],"expression":"var factor = 6;\r\n\r\nconst yRot = parent.effect(\"Y rotation\")(\"Angle\");\r\nconst persCtrl = parent.effect(\"Finger persperctive\")(\"Slider\") / 100;\r\nconst handScale = parent.effect(\"size (%)\")(\"Slider\") / 100;\r\n\r\nconst persOcc = Math.sin(degreesToRadians(-yRot)) * value / factor + value;\r\n\r\nconst pers = persOcc * persCtrl;\r\n\r\nconst result = pers * handScale;\r\n\r\nresult"},{"name":"metacarpal"},{"name":"Position","value":[30.3,-299.5],"expression":"var parentJoint = content(\"wrist\").content(\"joint\");\r\nvar yRot = -parent.effect(\"Y rotation\")(\"Angle\");\r\nconst handScale = parent.effect(\"size (%)\")(\"Slider\") / 100;\r\n\r\nctrlr = ((yRot % 360) + 360) % 360;\r\nrad = value[0];\r\n\r\nvar x = Math.cos(ctrlr / rad * 0.52) * rad * handScale;\r\nvar y = value[1] * handScale;\r\n\r\n[x,y]"},{"name":"Rotation","value":0,"expression":"parent.effect(\"finger grasp\")(\"Angle\")"},{"name":"Size","value":[78,78],"expression":"var factor = 5\r\n\r\nconst yRot = parent.effect(\"Y rotation\")(\"Angle\");\r\nconst persCtrl = parent.effect(\"Finger persperctive\")(\"Slider\") / 100;\r\nconst handScale = parent.effect(\"size (%)\")(\"Slider\") / 100;\r\n\r\nconst persOcc = Math.sin(degreesToRadians(-yRot)) * value / factor + value;\r\n\r\nconst pers = persOcc * persCtrl;\r\n\r\nconst result = pers * handScale;\r\n\r\nresult"},{"name":"joints"},{"name":"Position","value":[111.3,-287.5],"expression":"fingerName = \"fingerOne\";\r\n\r\ncontent(\"fingers\").content(fingerName).content(\"joints\").transform.anchorPoint + value;"},{"name":"Anchor Point","value":[111.3,-287.5],"expression":"fingerName = \"fingerOne\";\r\n\r\ncontent(\"fingers\").content(fingerName).content(\"joints\").content(\"metacarpal\").transform.position;"},{"name":"end"},{"name":"Position","value":[154.157142857143,-499.75],"expression":"var fingerName = \"fingerOne\";\r\nvar jointName = \"distal\"\r\n\r\nconst finger = content(\"fingers\").content(fingerName);\r\nconst handScale = parent.effect(\"size (%)\")(\"Slider\") / 100;\r\n\r\nconst parentJoint = finger.content(\"joints\").content(jointName);\r\nconst graspRotDegrees = parent.effect(\"finger grasp\")(\"Angle\");\r\nconst yRotDegrees = parent.effect(\"Y rotation\")(\"Angle\");\r\nconst spreadCtrl = parent.effect(\"Finger Spread\")(\"Slider\");\r\n\r\nconst yRot = ((yRotDegrees % 360) + 360) % 360;\r\nconst grasp = Math.cos(degreesToRadians(graspRotDegrees));\r\nvar spread = spreadCtrl * Math.cos(degreesToRadians(yRot));\r\n\r\nconst parentPos = parentJoint.transform.position;\r\nconst parentRot = degreesToRadians(parentJoint.transform.rotation);\r\n\r\nvar graspX = value[0] * Math.cos(parentRot) - value[1] * Math.sin(parentRot);\r\nvar graspY = value[0] * Math.sin(parentRot) + value[1] * Math.cos(parentRot);\r\n\r\ngraspX *= Math.cos(degreesToRadians(yRot - 90));\r\nspread /= 7;\r\n\r\nspread = linear(grasp, 0, spread);\r\nvar x = parentPos[0] + (graspX + spread) * handScale;\r\nvar y = parentPos[1] + graspY * handScale;\r\n\r\n[x, y]"},{"name":"Rotation","value":0,"expression":"var fingerName = \"fingerOne\";\r\nvar parentJoint = \"distal\";\r\n\r\nvar joint = content(\"fingers\").content(fingerName).content(\"joints\").content(parentJoint);\r\n\r\njoint.transform.rotation;"},{"name":"Size","value":[55,55],"expression":"var factor = 3\r\n\r\nconst yRot = parent.effect(\"Y rotation\")(\"Angle\");\r\nconst persCtrl = parent.effect(\"Finger persperctive\")(\"Slider\") / 100;\r\nconst handScale = parent.effect(\"size (%)\")(\"Slider\") / 100;\r\n\r\nconst persOcc = Math.sin(degreesToRadians(-yRot)) * value / factor + value;\r\n\r\nconst pers = persOcc * persCtrl;\r\n\r\nconst result = pers * handScale;\r\n\r\nresult"},{"name":"distal"},{"name":"Position","value":[139.871428571429,-439.55],"expression":"var fingerName = \"fingerOne\";\r\nvar jointName = \"proximal\";\r\n\r\nconst finger = content(\"fingers\").content(fingerName);\r\nconst handScale = parent.effect(\"size (%)\")(\"Slider\") / 100;\r\n\r\nconst parentJoint = finger.content(\"joints\").content(jointName);\r\nconst graspRotDegrees = parent.effect(\"finger grasp\")(\"Angle\");\r\nconst yRotDegrees = parent.effect(\"Y rotation\")(\"Angle\");\r\nconst spreadCtrl = parent.effect(\"Finger Spread\")(\"Slider\");\r\n\r\nconst yRot = ((yRotDegrees % 360) + 360) % 360;\r\nconst grasp = Math.cos(degreesToRadians(graspRotDegrees));\r\nvar spread = spreadCtrl * Math.cos(degreesToRadians(yRot));\r\n\r\nconst parentPos = parentJoint.transform.position;\r\nconst parentRot = degreesToRadians(parentJoint.transform.rotation);\r\n\r\nvar graspX = value[0] * Math.cos(parentRot) - value[1] * Math.sin(parentRot);\r\nvar graspY = value[0] * Math.sin(parentRot) + value[1] * Math.cos(parentRot);\r\n\r\ngraspX *= Math.cos(degreesToRadians(yRot - 90));\r\nspread /= 7;\r\n\r\nspread = linear(grasp, 0, spread);\r\nvar x = parentPos[0] + (graspX + spread) * handScale;\r\nvar y = parentPos[1] + graspY * handScale;\r\n\r\n[x, y]"},{"name":"Rotation","value":0,"expression":"var fingerName = \"fingerOne\";\r\nvar parentJoint = \"proximal\";\r\n\r\nvar angle = parent.effect(\"finger grasp\")(\"Angle\");\r\nvar joint = content(\"fingers\").content(fingerName).content(\"joints\").content(parentJoint);\r\n\r\nangle + joint.transform.rotation"},{"name":"Size","value":[60,60],"expression":"var factor = 4\r\n\r\nconst yRot = parent.effect(\"Y rotation\")(\"Angle\");\r\nconst persCtrl = parent.effect(\"Finger persperctive\")(\"Slider\") / 100;\r\nconst handScale = parent.effect(\"size (%)\")(\"Slider\") / 100;\r\n\r\nconst persOcc = Math.sin(degreesToRadians(-yRot)) * value / factor + value;\r\n\r\nconst pers = persOcc * persCtrl;\r\n\r\nconst result = pers * handScale;\r\n\r\nresult"},{"name":"proximal"},{"name":"Position","value":[125.585714285714,-367.25],"expression":"var fingerName = \"fingerOne\";\r\nvar jointName = \"metacarpal\"\r\n\r\nconst finger = content(\"fingers\").content(fingerName);\r\nconst handScale = parent.effect(\"size (%)\")(\"Slider\") / 100;\r\n\r\nconst parentJoint = finger.content(\"joints\").content(jointName);\r\nconst graspRotDegrees = parent.effect(\"finger grasp\")(\"Angle\");\r\nconst yRotDegrees = parent.effect(\"Y rotation\")(\"Angle\");\r\nconst spreadCtrl = parent.effect(\"Finger Spread\")(\"Slider\");\r\n\r\nconst yRot = ((yRotDegrees % 360) + 360) % 360;\r\nconst grasp = Math.cos(degreesToRadians(graspRotDegrees));\r\nvar spread = spreadCtrl * Math.cos(degreesToRadians(yRot));\r\n\r\nconst parentPos = parentJoint.transform.position;\r\nconst parentRot = degreesToRadians(parentJoint.transform.rotation);\r\n\r\nvar graspX = value[0] * Math.cos(parentRot) - value[1] * Math.sin(parentRot);\r\nvar graspY = value[0] * Math.sin(parentRot) + value[1] * Math.cos(parentRot);\r\n\r\ngraspX *= Math.cos(degreesToRadians(yRot - 90));\r\nspread /= 7;\r\n\r\nspread = linear(grasp, 0, spread);\r\nvar x = parentPos[0] + (graspX + spread) * handScale;\r\nvar y = parentPos[1] + graspY * handScale;\r\n\r\n[x, y]\r\n"},{"name":"Rotation","value":0,"expression":"var fingerName = \"fingerOne\";\r\nvar parentJoint = \"metacarpal\";\r\n\r\nvar angle = parent.effect(\"finger grasp\")(\"Angle\");\r\nvar joint = content(\"fingers\").content(fingerName).content(\"joints\").content(parentJoint);\r\n\r\nangle + joint.transform.rotation"},{"name":"Size","value":[65,65],"expression":"var factor = 5\r\n\r\nconst yRot = parent.effect(\"Y rotation\")(\"Angle\");\r\nconst persCtrl = parent.effect(\"Finger persperctive\")(\"Slider\") / 100;\r\nconst handScale = parent.effect(\"size (%)\")(\"Slider\") / 100;\r\n\r\nconst persOcc = Math.sin(degreesToRadians(-yRot)) * value / factor + value;\r\n\r\nconst pers = persOcc * persCtrl;\r\n\r\nconst result = pers * handScale;\r\n\r\nresult"},{"name":"metacarpal"},{"name":"Position","value":[111.3,-287.5],"expression":"var parentJoint = content(\"wrist\").content(\"joint\");\r\nvar yRot = -parent.effect(\"Y rotation\")(\"Angle\");\r\nconst handScale = parent.effect(\"size (%)\")(\"Slider\") / 100;\r\n\r\nctrlr = ((yRot % 360) + 360) % 360;\r\nrad = value[0];\r\n\r\nvar x = Math.cos(ctrlr / rad * 1.96) * rad * handScale;\r\nvar y = value[1] * handScale;\r\n\r\n[x,y]"},{"name":"Rotation","value":0,"expression":"parent.effect(\"finger grasp\")(\"Angle\")"},{"name":"Size","value":[78,78],"expression":"var factor = 6\r\n\r\nconst yRot = parent.effect(\"Y rotation\")(\"Angle\");\r\nconst persCtrl = parent.effect(\"Finger persperctive\")(\"Slider\") / 100;\r\nconst handScale = parent.effect(\"size (%)\")(\"Slider\") / 100;\r\n\r\nconst persOcc = Math.sin(degreesToRadians(-yRot)) * value / factor + value;\r\n\r\nconst pers = persOcc * persCtrl;\r\n\r\nconst result = pers * handScale;\r\n\r\nresult"},{"name":"end"},{"name":"Position","value":[247.533301894554,-218.95],"expression":"var fingerName = \"thumb\";\r\nvar jointName = \"distal\"\r\n\r\nconst finger = content(\"fingers\").content(fingerName);\r\nconst handScale = parent.effect(\"size (%)\")(\"Slider\") / 100;\r\n\r\nconst parentJoint = finger.content(\"joints\").content(jointName);\r\nconst graspRotDegrees = parent.effect(\"finger grasp\")(\"Angle\");\r\nconst yRotDegrees = parent.effect(\"Y rotation\")(\"Angle\");\r\nconst spreadCtrl = parent.effect(\"Finger Spread\")(\"Slider\");\r\n\r\nconst yRot = ((yRotDegrees % 360) + 360) % 360;\r\nconst graspRot = ((graspRotDegrees % 360) + 360) % 360;\r\nvar spread = spreadCtrl * Math.cos(degreesToRadians(yRot));\r\n\r\nconst parentPos = parentJoint.transform.position;\r\nconst parentRot = degreesToRadians(parentJoint.transform.rotation);\r\n\r\nvar graspX = value[0] * Math.cos(parentRot) - value[1] * Math.sin(parentRot);\r\nvar graspY = value[0] * Math.sin(parentRot) + value[1] * Math.cos(parentRot);\r\n\r\nvar graspOcc = Math.cos(degreesToRadians(graspRot))\r\nvar factor = linear(graspOcc, 20, -30)\r\n\r\ngraspX *= Math.cos(degreesToRadians(yRot + factor));\r\nspread /= 10;\r\n\r\nvar x = parentPos[0] + (graspX + spread) * handScale;\r\nvar y = parentPos[1] + graspY * handScale;\r\n\r\n[x, y]"},{"name":"Rotation","value":0,"expression":"var fingerName = \"thumb\";\r\nvar parentJoint = \"distal\";\r\n\r\nvar joint = content(\"fingers\").content(fingerName).content(\"joints\").content(parentJoint);\r\n\r\njoint.transform.rotation;"},{"name":"Size","value":[60,60],"expression":"var factor = 3\r\n\r\nconst yRot = parent.effect(\"Y rotation\")(\"Angle\");\r\nconst persCtrl = parent.effect(\"Finger persperctive\")(\"Slider\") / 100;\r\nconst handScale = parent.effect(\"size (%)\")(\"Slider\") / 100;\r\n\r\nconst persOcc = Math.sin(degreesToRadians(-yRot)) * value / factor + value;\r\n\r\nconst pers = persOcc * persCtrl;\r\n\r\nconst result = pers * handScale;\r\n\r\nresult"},{"name":"distal"},{"name":"Position","value":[190.551423739248,-171.45],"expression":"var fingerName = \"thumb\";\r\nvar jointName = \"proximal\"\r\n\r\nconst finger = content(\"fingers\").content(fingerName);\r\nconst handScale = parent.effect(\"size (%)\")(\"Slider\") / 100;\r\n\r\nconst parentJoint = finger.content(\"joints\").content(jointName);\r\nconst graspRotDegrees = parent.effect(\"finger grasp\")(\"Angle\");\r\nconst yRotDegrees = parent.effect(\"Y rotation\")(\"Angle\");\r\nconst spreadCtrl = parent.effect(\"Finger Spread\")(\"Slider\");\r\n\r\nconst yRot = ((yRotDegrees % 360) + 360) % 360;\r\nconst graspRot = ((graspRotDegrees % 360) + 360) % 360;\r\nvar spread = spreadCtrl * Math.cos(degreesToRadians(yRot));\r\n\r\nconst parentPos = parentJoint.transform.position;\r\nconst parentRot = degreesToRadians(parentJoint.transform.rotation);\r\n\r\nvar graspX = value[0] * Math.cos(parentRot) - value[1] * Math.sin(parentRot);\r\nvar graspY = value[0] * Math.sin(parentRot) + value[1] * Math.cos(parentRot);\r\n\r\nvar graspOcc = Math.cos(degreesToRadians(graspRot))\r\nvar factor = linear(graspOcc, -80, 50)\r\n\r\ngraspX *= Math.cos(degreesToRadians(yRot - factor));\r\nspread /= 3;\r\n\r\nvar x = parentPos[0] + (graspX + spread) * handScale;\r\nvar y = parentPos[1] + graspY * handScale;\r\n\r\n[x, y]"},{"name":"Rotation","value":0,"expression":"var fingerName = \"thumb\";\r\nvar parentJoint = \"proximal\";\r\n\r\nvar angle = - parent.effect(\"finger grasp\")(\"Angle\")/2;\r\nvar joint = content(\"fingers\").content(fingerName).content(\"joints\").content(parentJoint);\r\n\r\nangle + joint.transform.rotation"},{"name":"Size","value":[80,80],"expression":"var factor = 4\r\n\r\nconst yRot = parent.effect(\"Y rotation\")(\"Angle\");\r\nconst persCtrl = parent.effect(\"Finger persperctive\")(\"Slider\") / 100;\r\nconst handScale = parent.effect(\"size (%)\")(\"Slider\") / 100;\r\n\r\nconst persOcc = Math.sin(degreesToRadians(-yRot)) * value / factor + value;\r\n\r\nconst pers = persOcc * persCtrl;\r\n\r\nconst result = pers * handScale;\r\n\r\nresult"},{"name":"proximal"},{"name":"Position","value":[116.722470995663,-87.9],"expression":"var fingerName = \"thumb\";\r\nvar jointName = \"metacarpal\"\r\n\r\nconst finger = content(\"fingers\").content(fingerName);\r\nconst handScale = parent.effect(\"size (%)\")(\"Slider\") / 100;\r\n\r\nconst parentJoint = finger.content(\"joints\").content(jointName);\r\nconst graspRotDegrees = parent.effect(\"finger grasp\")(\"Angle\");\r\nconst yRotDegrees = parent.effect(\"Y rotation\")(\"Angle\");\r\nconst spreadCtrl = parent.effect(\"Finger Spread\")(\"Slider\");\r\n\r\nconst yRot = ((yRotDegrees % 360) + 360) % 360;\r\nconst graspRot = ((graspRotDegrees % 360) + 360) % 360;\r\nvar spread = spreadCtrl * Math.cos(degreesToRadians(yRot));\r\n\r\nconst parentPos = parentJoint.transform.position;\r\nconst parentRot = degreesToRadians(parentJoint.transform.rotation) / 3;\r\n\r\nvar graspX = value[0] * Math.cos(parentRot) - value[1] * Math.sin(parentRot);\r\nvar graspY = value[0] * Math.sin(parentRot) + value[1] * Math.cos(parentRot);\r\n\r\nvar graspOcc = Math.cos(degreesToRadians(graspRot))\r\nvar factor = linear(graspOcc, 80, 40)\r\n\r\ngraspX *= Math.cos(degreesToRadians(yRot - factor));\r\n\r\nspread /= 2;\r\n\r\nvar x = parentPos[0] + (graspX + spread) * handScale;\r\nvar y = parentPos[1] + graspY * handScale;\r\n\r\n[x, y]"},{"name":"Rotation","value":0,"expression":"var fingerName = \"thumb\";\r\nvar parentJoint = \"metacarpal\";\r\n\r\nvar angle = - parent.effect(\"finger grasp\")(\"Angle\")/3;\r\nvar joint = content(\"fingers\").content(fingerName).content(\"joints\").content(parentJoint);\r\n\r\nangle + joint.transform.rotation"},{"name":"Size","value":[108,108],"expression":"var factor = 5\r\n\r\nconst yRot = parent.effect(\"Y rotation\")(\"Angle\");\r\nconst persCtrl = parent.effect(\"Finger persperctive\")(\"Slider\") / 100;\r\nconst handScale = parent.effect(\"size (%)\")(\"Slider\") / 100;\r\n\r\nconst persOcc = Math.sin(degreesToRadians(-yRot)) * value / factor + value;\r\n\r\nconst pers = persOcc * persCtrl;\r\n\r\nconst result = pers * handScale;\r\n\r\nresult"},{"name":"metacarpal"},{"name":"Position","value":[0,0],"expression":"content(\"wrist\").content(\"joint\").transform.position"},{"name":"Rotation","value":0,"expression":"-parent.effect(\"finger grasp\")(\"Angle\")/3"},{"name":"Size","value":[219,219],"expression":"content(\"wrist\").content(\"joint\").content(\"ellipse\").size"},{"name":"bones"},{"name":"Path 1"},{"name":"Path","value":{"closed":true,"featherInterps":[

],"featherRadii":[

],"featherRelCornerAngles":[

],"featherRelSegLocs":[

],"featherSegLocs":[

],"featherTensions":[

],"featherTypes":[

],"inTangents":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"outTangents":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"vertices":[[-65.8716430664062,-87.4709930419922],[-89.6776885986328,-62.8343963623047],[-104.705444335938,-32.0471496582031],[-109.483917236328,1.87713623046875],[-103.545333862305,35.6176300048828],[-87.4710083007812,65.8716278076172],[-62.8344116210938,89.6776885986328],[-32.0471496582031,104.705429077148],[1.87712097167969,109.483901977539],[35.6176300048828,103.545333862305],[65.8716583251953,87.4709930419922],[152.772521972656,-48.9127655029297],[217.496154785156,-143.717483520508],[265.781982421875,-197.058547973633],[271.653656005859,-203.769149780273],[275.164276123047,-211.965744018555],[275.970153808594,-220.84602355957],[273.992462158203,-229.54069519043],[269.424743652344,-237.198684692383],[262.714172363281,-243.070358276367],[254.517547607422,-246.580963134766],[245.637268066406,-247.386856079102],[236.942596435547,-245.409164428711],[229.284606933594,-240.841445922852],[163.606689453125,-199.182510375977],[80.6724395751953,-126.887237548828],[-65.8716430664062,-87.4709930419922],[-65.8716430664062,-87.4709930419922]]},"expression":"var fingerName = \"thumb\";\r\n\r\nvar smoothness = parent.effect(\"finger smoothness\")(\"Slider\"); // 0-1\r\nvar taper = parent.effect(\"Taper Amount\")(\"Slider\"); // 0–100\r\nvar softness = parent.effect(\"Joint Softness\")(\"Slider\") / 100; // 0–1\r\nvar tipSegments = Math.max(6, Math.round(smoothness * 2));\r\nvar baseSegments = tipSegments;\r\n\r\n// === Joint Positions & Widths ===\r\n\r\nvar joints = [\r\n    content(\"fingers\").content(fingerName).content(\"joints\").content(\"metacarpal\"),\r\n    content(\"fingers\").content(fingerName).content(\"joints\").content(\"proximal\"),\r\n    content(\"fingers\").content(fingerName).content(\"joints\").content(\"distal\"),\r\n    content(\"fingers\").content(fingerName).content(\"joints\").content(\"end\")\r\n];\r\nvar points = joints.map(function(j) { return j.transform.position; });\r\n\r\n// Apply tapering\r\nvar widths = joints.map(function(j, i) {\r\n    var baseWidth = j.content(\"ellipse\").size[0];\r\n    var factor = 1 - (i / (joints.length - 1)) * (taper / 100);\r\n    return baseWidth * factor;\r\n});\r\n\r\n// === Vector Helpers ===\r\n\r\nfunction sub(a, b) { return [a[0] - b[0], a[1] - b[1]]; }\r\nfunction add(a, b) { return [a[0] + b[0], a[1] + b[1]]; }\r\nfunction scale(v, s) { return [v[0] * s, v[1] * s]; }\r\nfunction norm(v) {\r\n    var l = Math.sqrt(v[0] * v[0] + v[1] * v[1]);\r\n    return l === 0 ? [0, 0] : [v[0] / l, v[1] / l];\r\n}\r\nfunction perp(v) { return [-v[1], v[0]]; }\r\nfunction dist(a, b) {\r\n    var dx = b[0] - a[0], dy = b[1] - a[1];\r\n    return Math.sqrt(dx * dx + dy * dy);\r\n}\r\nfunction angleBetween(a, b) {\r\n    var dot = a[0] * b[0] + a[1] * b[1];\r\n    var det = a[0] * b[1] - a[1] * b[0];\r\n    return Math.atan2(det, dot);\r\n}\r\nfunction customLinear(val, inMin, inMax, outMin, outMax) {\r\n    val = Math.max(inMin, Math.min(val, inMax));\r\n    return outMin + (val - inMin) * (outMax - outMin) / (inMax - inMin);\r\n}\r\n\r\n// === Compute Tangents for Centerline ===\r\n\r\nvar inTangents = [], outTangents = [];\r\nvar bends = []; // Store bend values for each intermediate point\r\n\r\nfor (var i = 0; i < points.length; i++) {\r\n    if (i === 0) {\r\n        var dir = norm(sub(points[1], points[0]));\r\n        var len = dist(points[0], points[1]) * softness;\r\n        inTangents.push([0, 0]);\r\n        outTangents.push(scale(dir, len));\r\n        bends.push(0); // No bend at the start\r\n    } else if (i === points.length - 1) {\r\n        var dir = norm(sub(points[i], points[i-1]));\r\n        var len = dist(points[i], points[i-1]) * softness;\r\n        inTangents.push(scale(dir, -len));\r\n        outTangents.push([0, 0]);\r\n        bends.push(0); // No bend at the end\r\n    } else {\r\n        var prev = norm(sub(points[i], points[i - 1]));\r\n        var next = norm(sub(points[i + 1], points[i]));\r\n        var dir = norm(add(prev, next));\r\n\r\n        // Concave/convex weighting via dot product (bend calculation)\r\n        var bend = prev[0] * next[0] + prev[1] * next[1];\r\n        bends.push(bend); // Store the bend value\r\n\r\n        var concaveFactor = customLinear(bend, -1, 1, 0.1, 1);\r\n        var len = Math.min(dist(points[i], points[i - 1]), dist(points[i], points[i + 1])) * softness * concaveFactor;\r\n        inTangents.push(scale(dir, -len));\r\n        outTangents.push(scale(dir, len));\r\n    }\r\n}\r\nbends.unshift(0); // Add a bend value for the first point\r\nbends.push(0);  // Add a bend value for the last point\r\n\r\n// === Offset Curve Function ===\r\n\r\nfunction offsetPath(side, bend) {\r\n    var newPoints = [], newInTangents = [], newOutTangents = [];\r\n\r\n    for (var i = 0; i < points.length; i++) {\r\n        var p = points[i];\r\n        var width = widths[i] / 2;\r\n\r\n        var dir;\r\n        if (i === 0) {\r\n            dir = norm(sub(points[1], points[0]));\r\n        } else if (i === points.length - 1) {\r\n            dir = norm(sub(points[i], points[i - 1]));\r\n        } else {\r\n            var prev = norm(sub(p, points[i - 1]));\r\n            var next = norm(sub(points[i + 1], p));\r\n            dir = norm(add(prev, next));\r\n        }\r\n\r\n        var perpDir = side === \"left\" ? perp(dir) : scale(perp(dir), -1);\r\n        var offset = scale(perpDir, width);\r\n\r\n        newPoints.push(add(p, offset));\r\n\r\n        // Force Near-Zero Tangents on Inside of Bent Knuckles\r\n        if (i > 0 && i < points.length - 1) {\r\n            var tangentLength = Math.min(dist(points[i], points[i - 1]), dist(points[i], points[i + 1])) * softness;\r\n            var smoothnessFactor = customLinear(softness, 0, 1, 1, 1.5);\r\n\r\n            if ((side === \"left\" && bend < -0.3) || (side === \"right\" && bend > 0.3)) {\r\n                // Force near-zero tangents on the inside\r\n                newInTangents.push([0, 0]);\r\n                newOutTangents.push([0, 0]);\r\n            } else { // Outside or less bent\r\n                newInTangents.push(scale(dir, -tangentLength * smoothnessFactor));\r\n                newOutTangents.push(scale(dir, tangentLength * smoothnessFactor));\r\n            }\r\n        } else {\r\n            newInTangents.push(inTangents[i]);\r\n            newOutTangents.push(outTangents[i]);\r\n        }\r\n    }\r\n\r\n    return {\r\n        pts: newPoints,\r\n        inTangents: newInTangents,\r\n        outTangents: newOutTangents\r\n    };\r\n}\r\n\r\n// === Left and Right Sides ===\r\nvar left = offsetPath(\"left\", bends);\r\nvar right = offsetPath(\"right\", bends);\r\n\r\n// === Tip Arc ===\r\n\r\nvar tipPoints = [], tipInTangents = [], tipOutTangents = [];\r\n\r\nvar tipCenter = points[points.length - 1];\r\nvar tipRadius = widths[widths.length - 1] / 2;\r\nvar tipDir = norm(sub(points[points.length - 1], points[points.length - 2]));\r\nvar tipPerp = perp(tipDir);\r\nvar arcLen = 4 / 3 * Math.tan(Math.PI / (2 * tipSegments));\r\n\r\nfor (var i = 0; i <= tipSegments; i++) {\r\n    var angle = Math.PI * i / tipSegments;\r\n    var x = Math.cos(angle) * tipRadius;\r\n    var y = Math.sin(angle) * tipRadius;\r\n\r\n    var pt = [\r\n        tipCenter[0] + x * tipPerp[0] + y * tipDir[0],\r\n        tipCenter[1] + x * tipPerp[1] + y * tipDir[1]\r\n    ];\r\n    tipPoints.push(pt);\r\n\r\n    var tanDir = [-Math.sin(angle), Math.cos(angle)];\r\n    var tangent = scale([\r\n        tanDir[0] * tipPerp[0] + tanDir[1] * tipDir[0],\r\n        tanDir[0] * tipPerp[1] + tanDir[1] * tipDir[1]\r\n    ], tipRadius * arcLen);\r\n\r\n    // tipInTangents.push(scale(tangent, -1));\r\n    // tipOutTangents.push(tangent);\r\n\t\r\n\ttipInTangents.push([0,0]);\r\n    tipOutTangents.push([0,0]);\r\n}\r\n\r\n// === Base Arc ===\r\n\r\nvar basePoints = [], baseInTangents = [], baseOutTangents = [];\r\n\r\nvar baseCenter = points[0];\r\nvar baseRadius = widths[0] / 2;\r\nvar baseDir = norm(sub(points[1], points[0]));\r\nvar basePerp = perp(baseDir);\r\nvar baseArcLen = 4 / 3 * Math.tan(Math.PI / (3 * baseSegments));\r\n\r\nfor (var i = 0; i <= baseSegments; i++) {\r\n    var angle = Math.PI + Math.PI * i / baseSegments;\r\n    var x = Math.cos(angle) * baseRadius;\r\n    var y = Math.sin(angle) * baseRadius;\r\n\r\n    var pt = [\r\n        baseCenter[0] + x * basePerp[0] + y * baseDir[0],\r\n        baseCenter[1] + x * basePerp[1] + y * baseDir[1]\r\n    ];\r\n    basePoints.push(pt);\r\n\r\n    var tanDir = [-Math.sin(angle), Math.cos(angle)];\r\n    var tangent = scale([\r\n        tanDir[0] * basePerp[0] + tanDir[1] * baseDir[0],\r\n        tanDir[0] * basePerp[1] + tanDir[1] * baseDir[1]\r\n    ], baseRadius * baseArcLen);\r\n\r\n    // baseInTangents.push(scale(tangent, -1));\r\n    // baseOutTangents.push(tangent);\r\n\t\r\n\tbaseInTangents.push([0,0]);\r\n    baseOutTangents.push([0,0]);\r\n}\r\n\r\n// === Combine All Points ===\r\n\r\nvar finalPts = basePoints\r\n    .slice(0, -1)\r\n    .concat(left.pts)\r\n    .concat(tipPoints.slice(1, -1))\r\n    .concat(right.pts.reverse());\r\n\r\nvar finalInTangents = baseInTangents\r\n    .slice(0, -1)\r\n    .concat(left.inTangents)\r\n    .concat(tipInTangents.slice(1, -1))\r\n    .concat(right.outTangents.reverse());\r\n\r\nvar finalOutTangents = baseOutTangents\r\n    .slice(0, -1)\r\n    .concat(left.outTangents)\r\n    .concat(tipOutTangents.slice(1, -1))\r\n    .concat(right.inTangents.reverse());\r\n\r\n// === Close Path ===\r\n\r\nfinalPts.push(finalPts[0]);\r\nfinalInTangents.push([0, 0]);\r\nfinalOutTangents.push([0, 0]);\r\n\r\n// === Create Path ===\r\n\r\ncreatePath(finalPts, finalInTangents, finalOutTangents, true);"},{"name":"joint"},{"name":"Size","value":[219,219],"expression":"var startUpScale = parent.effect(\"wrist size (px)\")(\"Slider\");\r\nvar handScale = parent.effect(\"size (%)\")(\"Slider\");\r\n\r\nstartUpScale = linear(handScale/100,0, startUpScale);\r\n\r\n[startUpScale,startUpScale];"}]